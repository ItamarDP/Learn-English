<!-- Mantiene todo igual excepto la lógica de "Match" -->
<script>
  function startMatch() {
    document.getElementById("activity-menu").style.display = "none";
    document.getElementById("match-activity").style.display = "block";

    const groupWords = groups[currentGroup];
    const englishWords = [...groupWords].sort(() => Math.random() - 0.5);
    const spanishWords = [...groupWords].sort(() => Math.random() - 0.5);

    const englishColumn = document.getElementById("english-column");
    const spanishColumn = document.getElementById("spanish-column");

    englishColumn.innerHTML = "";
    spanishColumn.innerHTML = "";

    englishWords.forEach((word) => {
      const box = document.createElement("div");
      box.className = "word-box match-left";
      box.textContent = word.english;
      box.dataset.word = word.english;
      englishColumn.appendChild(box);
    });

    spanishWords.forEach((word) => {
      const box = document.createElement("div");
      box.className = "word-box match-right";
      box.textContent = word.spanish;
      box.draggable = true;

      box.ondragstart = (event) => {
        event.dataTransfer.setData("text", word.english);
        box.classList.add("dragged");
      };

      box.ondragend = () => {
        box.classList.remove("dragged");
      };

      spanishColumn.appendChild(box);
    });

    englishColumn.childNodes.forEach((targetBox) => {
      targetBox.ondragover = (event) => event.preventDefault();
      targetBox.ondrop = (event) => {
        const draggedWord = event.dataTransfer.getData("text");
        if (draggedWord === targetBox.dataset.word) {
          targetBox.textContent = draggedWord;
          targetBox.classList.add("correct");
          targetBox.style.pointerEvents = "none"; // Desactiva el cuadro
        } else {
          alert("No coincide, inténtalo de nuevo.");
        }
      };
    });
  }
</script>
